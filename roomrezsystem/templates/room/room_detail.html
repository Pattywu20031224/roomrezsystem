{% extends "base.html" %}

{% block content %}
<div class="mb-2">
  <a href="{% url 'room_edit' room.id %}" class="btn btn-sm btn-primary">
    <i class="fas fa-edit"></i> 修改
  </a>
  <a href="{% url 'reverse_room' room.id %}" class="btn btn-sm btn-primary">
    <i class="fas fa-edit"></i> 租借
  </a>
  <a href="{% url 'room_delete' room.id %}" class="btn btn-sm btn-danger">
    <i class="fas fa-trash"></i> 刪除
  </a>
  
</div>
<div id="room-detail" class="row">
  <div class="col-md-4">
    <img src="{{ room.preface.url }}" alt="{{ room.name }}">
  </div>
  <div class="col-sm-8">
    <div class="card">
      <div class="card-header">{{ room.name }}</div>
      <table class="table">
        <tr>
          <th>詳細資料</th><td>{{ room.detail }}</td>
        </tr>
      </table>
      <table class="table">
        <tr>
          <th>借用紀錄</th>
          {% for log in room.log_set.all %}
            <tr>
              <td>{{ log.reserve|date:"Y/m/d H:i" }}</td>
              <td>
                {{ log.room.name }}
              </td>
               <td>
                <a href="{% url 'teacher_view' log.teacher.id %}">
                {{ log.teacher.realname }}
                </a>
              </td>
              <td>{{ log.end|date:"Y/m/d H:i" }}</td>
            </tr>
          {% endfor %} 
        </tr>
      </table>
    </div>
  </div>
</div>


{% endblock %}